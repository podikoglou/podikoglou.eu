<footer>
  <hr />
  <div class="accent-picker"></div>
</footer>

<script>
  const getShade = () => matchMedia('(prefers-color-scheme: dark)').matches ? '400' : '600';

  const savedAccent = localStorage.getItem('accent');
  if (savedAccent) {
    document.documentElement.style.setProperty('--color-primary', `var(--flexoki-${savedAccent}-${getShade()})`);
  }

  const colors = ['red', 'orange', 'yellow', 'green', 'cyan', 'blue', 'purple', 'magenta'];
  const picker = document.querySelector('.accent-picker');

  colors.forEach(color => {
    const button = document.createElement('button');
    button.dataset.color = color;
    button.style.background = `var(--flexoki-${color}-600)`;

    button.onclick = () => {
      localStorage.setItem('accent', color);
      document.documentElement.style.setProperty('--color-primary', `var(--flexoki-${color}-${getShade()})`);
    };

    picker.appendChild(button);
  });
</script>
